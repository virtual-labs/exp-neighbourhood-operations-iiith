<html><head><!--Google Tag Manager--><script class="gtm">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-W59SWTR');</script><!--End Google Tag Manager--></head><body><!--Google Tag Manager (noscript)--><noscript class="gtm"><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-W59SWTR" style="display:none;visibility:hidden" width="0"></iframe></noscript><!--End Google Tag Manager (noscript)--><p><b>Neighbourhood Operations: Theory</b></p><p></p>

<p>Given an input image f(x,y) 
an output image g(x,y) is computed by applying some operation on a local 
neighbourhood N of each pixel in the image f. This can be visualized 
as follows: a window or mask is placed at every pixel location in f(x,y) 
and some operation is performed on the pixels within the window. The 
window is moved to the next pixel location nd the process is repeated. 
Thus, </p>

<p><i>
<img align="center" height="24" src="neigh/image001.gif" width="147"/></i></p>

<p>
Where H<sub>N</sub> is the neighborhood operator of size <i>N</i> and <i>g</i> is the output
image.</p><p></p>

<p><b>Linear operations</b> :</p>
<p>Linear operations can be represented 
as a convolution operation between f(x,y) and a window function w(x,y) 
as follows. </p>
<span><img height="45" src="neigh/image002.gif" width="244"/><p></p>

<p><i>w </i> is a window function which in practice is in the form of a matrix of 
size<i> s </i>x <i>t</i>; <i>a=(s-1)/2 </i>
and <i>b=(t-1)/2 . </i> </p>
<p>An example of 3x3 w(x,y) is 
shown below.</p>
<a name="0.1_table01"></a>
<div align="left">
<ul><ul><ul><table border="2" cellspacing="0" width="168">
<tbody><tr valign="top"><td>w(-1,-1)</td>
  <td>w(-1,0)</td>
  <td>w(-1,1)</td></tr>
<tr valign="top"><td>w(0,-1)</td>
  <td>w(0,0)</td>
  <td>w(0,1)</td></tr>
<tr valign="top"><td>w(1,-1)</td>
  <td>w(1,0)</td>
  <td>w(1,1)</td></tr>
</tbody></table>
</ul></ul></ul>
</div>
<p> </p>



<p>An example of convolution operation is shown below:</p>
<p>
<img height="500" id="Picture 3" src="neigh/convolution.jpg" width="750"/></p>





<p>Note that w(0,0) is the coefficient 
or weight of the window function at the centre which is the position 
of the current pixel in f(x,y). Varying the weights w(i,j), results 
in different type of linear neighborhood operations. The above 
operations are generally termed as filtering operations and w is referred 
to as a filter. A popular filter is one which performs local averaging 
or smoothing of the image. This is a low pass filter. The key characteristic 
of this filter is that w(i,j) &gt; 0 for every (i,j). An additional 
constraint is generally imposed on the weights to sum to 1. Below are 
some examples.</p>
<ol type="1">
  <li>Straight averaging 
  filter: All the filter coefficients are equal.</li>
</ol>

<p>
<img height="202" id="Picture 3" src="neigh/image003.jpg" width="282"/></p>

<ol start="2" type="1">
  <li>Triangular filter:All the coefficients are arranged to form a pyramid (with triangular 
  faces) as shown below</li>
</ol>
<img height="203" id="Picture 4" src="neigh/image004.jpg" width="285"/><p></p>

<ol start="3" type="1">
  <li>Gaussian filter: 
  The filter coefficients form a bell shaped surface as shown below.</li>
</ol>

<p>
<img height="198" id="Picture 5" src="neigh/image005.jpg" width="283"/></p>
<p></p>

<p>Nonlinear
Operations:</p>
<p><b>Nonlinear Operations</b>:</p>
<p><i>H</i><sub><i>N</i></sub><i> </i>
can also be a nonlinear operator. An example is one which performs 
a ranking operation. Such operations <i>cannot</i> be represented 
as a convolution between f(x,y) and a window function as in the case 
of linear operations. </p>
<ol type="1">
  <li>Median filter:  
  The operator <i>H</i><sub><i>N</i></sub> computes the median 
  of the set of grey values in the neighborhood of the current pixel in 
  f(x,y).  This is found by performing a sorting operation at every location 
  (x,y) in f(x,y).  </li>
  <li>Unsharp Masking 
  filter: This is another example of nonlinear filtering. Here, 
  the aim is to highlight the details. This operation is given by</li>
</ol>
<img src="neigh/image006.gif"/>
Where <img height="23" src="neigh/image007.gif" width="38"/> is the result of applying an averaging filter (ex. Gaussian) 
to the input <i>f(x,y)</i> and <font face="Symbol" size="3">a</font> &lt; 1 is a constant.  Note 
that if <font face="Symbol" size="3">a</font> =1 
then we have an operation that will <u>retain</u> <u>only</u> the details 
in the image. <p></p>
<p><b>Implementation Issues</b></p>
<p>When a pixel lies in the border 
of the input image, some elements of its neighbourhood is not defined. 
Hence the mask cannot be applied. To circumvent this issue, one of the 
following two approaches can be used :</p>
<p>Zero Padding : The undefined 
pixels are assumed to be zero and the mask can be applied. For example: An input image of size MXN and filter size mXn, the output image size will be (M+(m-1)/2) X (N+(n-1)/2) </p>
<p>Repetition : The border pixels in 
input image are repeated, so that the neighbourhood is always defined 
and mask can be applied. <br/></p>

<p> An example demonstrating Zero-Padding and repitition of border pixels is shown below:
</p><p>
<img height="500" src="neigh/filter.jpg" width="750"/></p>
<p></p>

</span></body></html>